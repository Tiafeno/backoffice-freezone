<form class="modal-content" [formGroup]="Form" (ngSubmit)="onSubmit()">
  <div class="modal-header px-4 py-3 bg-primary-400">
    <div>
      <h5 class="modal-title text-white">Modification</h5>
    </div>
    <button class="close text-white" type="button" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
  <div class="modal-body p-4">
    <div class="alert alert-{{notice.classes}}" *ngIf="notice">
      <strong>{{notice.classes === 'warning' ? "Avertissement" : "Attention"}}</strong>
      <br>{{notice.msg}}
    </div>
    <div>
      <div class="row">
        <div class="col-md-12">
          <div class="form-group mb-4">
            <label>Fournisseur</label>
            <ng-select name="supplier" placeholder="Selectionner un fournisseur" formControlName="user_id"
                       bindLabel="company_name" bindValue="id" [multiple]="false" [items]="Suppliers" required>
              <ng-template ng-option-tmp let-item="item">
                {{item.company_name}} <br/>
                <small>{{item.reference}}</small>
              </ng-template>
            </ng-select>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="form-group mb-4">
            <label>Produit</label>
            <ng-select name="product" placeholder="Tapez un produit" formControlName="product_id"
                       (change)="onSelectProduct($event)"
                       bindValue="id" bindLabel="title.rendered" [searchable]="true" [multiple]="false"
                       [items]="Products" required>
              <ng-template ng-option-tmp let-item="item">
                {{item.title.rendered}}
              </ng-template>
            </ng-select>
          </div>
        </div>
      </div>
      <div class="text-muted mb-2 mt-3">Fournisseur</div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-4">
            <label>Prix</label>
            <input class="form-control" formControlName="price" type="number" id="price" name="price"
                   placeholder="Ajouter un prix en AR">
            <div *ngIf="f.price.errors && f.price.dirty">
              <label id="price-error" class="help-block error">Ce champ est obligatoire.</label>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-4">
            <label>Marge</label>
            <input class="form-control" formControlName="marge" type="number" id="marge" name="marge"
                   placeholder="Ajouter une marge">
            <div *ngIf="f.marge.errors && f.marge.dirty">
              <label id="marge-error" class="help-block error">Ce champ est obligatoire.</label>
            </div>
          </div>
        </div>
      </div>
      <div class="text-muted mb-2 mt-3">Revendeur</div>
      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-4">
            <label>Prix R.</label>
            <input class="form-control" formControlName="priceDealer" type="number" id="price_dealer" name="price_dealer"
                   placeholder="Ajouter un prix en AR">
            <div *ngIf="f.priceDealer.errors && f.priceDealer.dirty">
              <label id="price-dealer-error" class="help-block error">Ce champ est obligatoire.</label>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group mb-4">
            <label>Marge R.</label>
            <input class="form-control" formControlName="margeDealer" type="number" id="marge_dealer" name="marge_dealer"
                   placeholder="Ajouter une marge">
            <div *ngIf="f.margeDealer.errors && f.margeDealer.dirty">
              <label id="marge-dealer-error" class="help-block error">Ce champ est obligatoire.</label>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-md-6">
          <div class="form-group mb-4">
            <label>Quantité disponible(s)</label>
            <input class="form-control" formControlName="stock" type="number" id="stock" name="stock"
                   placeholder="Ajouter la quantité disponible">
            <div *ngIf="f.stock.errors && f.stock.dirty">
              <label id="qty-error" class="help-block error">Ce champ est obligatoire.</label>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div class="form-group mb-4">
            <label>La dernière mise à jour date de</label>
            <div id="date_review" class="alert alert-pink">{{dateReview}}, {{dateReviewFromNow}}</div>
          </div>
        </div>
      </div>
      <div class="text-muted font-11">
        Sed tristique lacinia enim, sit amet consequat ante suscipit at. Quisque a eros vitae elit molestie tristique.
      </div>

    </div>
  </div>
  <div class="modal-footer justify-content-between bg-primary-50">

    <div>
      <button class="btn btn-primary btn-rounded mr-3" type="submit" [disabled]=" ! canEdit">Mettre à jour</button>
    </div>
    <a class="text-danger" (click)="onRemoveArticle(ID)"><i class="la la-trash font-20"></i></a>
  </div>
</form>
